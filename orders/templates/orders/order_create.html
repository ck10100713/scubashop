{% extends "base.html" %}

{% block title %}
    Checkout
{% endblock %}

{% block content %}
    <div class="container mt-4">
        <h2>Checkout</h2>
        
        <!-- 顯示購物車商品 -->
        <h3>您的購物車商品：</h3>
        <ul>
            {% for item in cart_items %}
                <li>{{ item.goods.title }} - {{ item.amount }} x NT${{ item.goods.price }}</li>
            {% endfor %}
        </ul>
        
        <!-- 顯示總金額 -->
        <h4>總金額： NT${{ total_price }}</h4>
        
        <!-- 訂單創建表單 -->
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="recipient_name">姓名：</label>
                <input type="text" class="form-control" id="recipient_name" name="recipient_name" value="{{ default_recipient.recipient_name }}" required>
            </div>
            <div class="form-group">
                <label for="recipient_address">地址：</label>
                <textarea class="form-control" id="recipient_address" name="recipient_address" required>{{ default_recipient.recipient_address }}</textarea>
            </div>
            <div class="form-group">
                <label for="recipient_number">聯絡電話：</label>
                <input type="text" class="form-control" id="recipient_number" name="recipient_number" value="{{ default_recipient.recipient_phone_number }}" required>
            </div>
            <div class="form-group">
                <label for="email">電子信箱：</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ user_profile.email }}" required>
            </div>
            <div class="form-group">
                <label for="credit_card">付款資訊：</label>
                <input type="text" class="form-control" id="credit_card" name="credit_card" required>
            </div>
            <button type="submit" class="btn btn-primary">提交訂單</button>
        </form>
    </div>
{% endblock %}
